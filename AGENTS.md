# Repository Guidelines

## Project Structure & Module Organization

-   `src/` contains the Keycloakify theme source (React/TypeScript). Key areas include `src/login/` for login theme pages and `src/main.tsx` as the Vite entry.
-   `src/kc.gen.tsx` is generated by Keycloakify; avoid manual edits unless you know the generator expectations.
-   `src/email/` will be created when you run `npx keycloakify initialize-email-theme` (native FreeMarker email templates).
-   `shared/` is a git submodule with shared assets from `mytradingwiki-assets`.
-   `assets/` and `public/` store static assets; `dist/` and `dist_keycloak/` are build outputs.
-   `docs/` contains internal documentation, including commit conventions.

## Build, Test, and Development Commands

-   `yarn dev` (or `npm run dev`): run Vite dev server for local theme development.
-   `yarn build`: type-check and bundle the app via `tsc` + `vite build`.
-   `yarn build-keycloak-theme`: build and package Keycloak themes (requires Maven in PATH).
-   `yarn storybook`: run Storybook for isolated UI development.
-   `yarn format`: run Prettier across the repo.

## Coding Style & Naming Conventions

-   TypeScript + React, ES modules (`"type": "module"`).
-   Formatting is handled by Prettier; use `yarn format` before committing.
-   Linting is configured in `eslint.config.js` (React, hooks, Storybook, Prettier).
-   Prefer `PascalCase` for components and `useX` for hooks; keep file names aligned with component names.

## Testing Guidelines

-   No automated test runner is configured in `package.json`.
-   Use Storybook for visual checks and manual QA. Add tests only if you introduce a test framework.

## Commit & Pull Request Guidelines

-   Follow `docs/development/commit-message-guidelines.md`.
-   Commit header format: `<type>(<scope>): <short summary>`.
-   Types include `feat`, `fix`, `docs`, `build`, `ci`, `refactor`, `test`, `style`, `perf`.
-   Scopes: `core`, `api`, `ui`, `auth`, `database`, `config`, `security`, `localization`.
-   Example: `feat(ui): add custom email template layout`.
-   No PR template found; include a clear description, link relevant issues, and add screenshots for UI changes.

## Security & Configuration Tips

-   Initialize assets submodule after cloning: `git submodule update --init --recursive`.
-   To update assets: `git submodule update --remote shared` and commit the pointer.
